module.exports=[41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},28790,a=>{"use strict";let b=(0,a.i(70106).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],28790)},88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7291),e=a.i(97895),f=a.i(28790),g=a.i(92258),h=a.i(60246),i=a.i(90166),j=a.i(41710);let k=(0,a.i(70106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var l=a.i(46271);function m(){let[a,m]=(0,c.useState)({totalRevenue:0,exclusiveSales:0,pendingApprovals:0,totalInventory:0,totalUsers:0,activeOffers:2}),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),t=async()=>{s(!0);let{data:a}=await d.supabase.from("leads").select("*").order("created_at",{ascending:!1}),{count:b}=await d.supabase.from("authorized_users").select("*",{count:"exact",head:!0});if(a){o(a);let c=a.filter(a=>"sold_exclusive"===a.status),d=a.filter(a=>"pending"===a.moderation_status),e=c.reduce((a,b)=>a+b.price_exclusive,0);m(f=>({...f,totalInventory:a.length,exclusiveSales:c.length,totalRevenue:e,pendingApprovals:d.length,totalUsers:b||0}));let f=new Date;f.setDate(f.getDate()-1),q(a.filter(a=>new Date(a.created_at)>f&&"available"===a.status))}s(!1)};(0,c.useEffect)(()=>{t()},[]);let u=[{label:"Total Revenue",value:(0,e.formatCurrency)(a.totalRevenue),icon:i.DollarSign,color:"text-green-500",bg:"bg-green-500/10"},{label:"Total Users",value:a.totalUsers.toString(),icon:h.Users,color:"text-blue-500",bg:"bg-blue-500/10"},{label:"Pending Approvals",value:a.pendingApprovals.toString(),icon:j.Clock,color:"text-yellow-500",bg:"bg-yellow-500/10",link:"/admin/listings"},{label:"Total Inventory",value:a.totalInventory.toString(),icon:k,color:"text-primary",bg:"bg-primary/10"}];return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard Overview"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor your marketplace performance"})]}),(0,b.jsx)("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",disabled:r,children:(0,b.jsx)(f.RefreshCcw,{className:`w-5 h-5 ${r?"animate-spin":""}`})})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((a,c)=>{let d=a.icon;return(0,b.jsx)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"glass p-6 rounded-xl border border-white/10 hover:border-white/20 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl ${a.bg} flex items-center justify-center ${a.color}`,children:(0,b.jsx)(d,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:a.label}),(0,b.jsx)("div",{className:`text-2xl font-bold mt-1 ${a.color}`,children:r?(0,b.jsx)("div",{className:"h-8 w-16 bg-white/10 rounded animate-pulse"}):a.value})]})]})},a.label)})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 glass rounded-xl border border-white/10 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Recent Inventory"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-white/5 uppercase text-xs text-muted-foreground font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Moderation"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Price"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:r?Array.from({length:5}).map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"h-4 w-32 bg-white/5 rounded animate-pulse"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"h-4 w-16 bg-white/5 rounded animate-pulse"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"h-4 w-16 bg-white/5 rounded animate-pulse"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"h-4 w-20 bg-white/5 rounded animate-pulse"})})]},c)):n.slice(0,5).map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium",children:a.title}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"available"===a.status?"bg-green-500/10 text-green-500":"bg-primary/10 text-primary"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"approved"===a.moderation_status?"bg-green-500/10 text-green-500":"pending"===a.moderation_status?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"}`,children:a.moderation_status||"approved"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,e.formatCurrency)(a.price_exclusive)})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"glass rounded-xl border border-white/10 p-6 flex flex-col h-fit",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center text-primary",children:(0,b.jsx)(g.Mail,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Daily Newsletter"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Preview of today's digest"})]})]}),(0,b.jsx)("div",{className:"flex-1 space-y-4 mb-6",children:p.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"text-sm",children:"Today's New Arrivals:"}),(0,b.jsx)("ul",{className:"space-y-2",children:p.map(a=>(0,b.jsxs)("li",{className:"text-sm font-medium border-l-2 border-primary pl-3 py-1 bg-white/5 rounded-r",children:[a.title," ",(0,b.jsxs)("span",{className:"text-muted-foreground",children:["- ",(0,e.formatCurrency)(a.price_exclusive)]})]},a.id))})]}):(0,b.jsx)("div",{className:"h-32 flex items-center justify-center text-muted-foreground bg-white/5 rounded border border-dashed border-white/10",children:"No new leads in last 24h"})}),(0,b.jsx)("button",{className:"w-full py-2 bg-primary text-black font-bold rounded-lg hover:bg-primary/90 transition-colors",children:"Trigger Manually"})]})]})]})}a.s(["default",()=>m],88367)}];

//# sourceMappingURL=_26974e19._.js.map