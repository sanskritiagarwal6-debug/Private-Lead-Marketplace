{"version":3,"sources":["../../../../app/purchases/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport { Shield, Check } from \"lucide-react\";\nimport { formatCurrency } from \"@/lib/utils\";\n\nexport default function PurchasesPage() {\n    const [purchases, setPurchases] = useState<any[]>([]);\n\n    // Note: Since we haven't implemented robust User profiles with purchase history tables linked to auth,\n    // we will fetch 'sold_exclusive' leads as a proxy for \"My Purchases\" in this demo context.\n    // In a real app, query table 'purchases' where user_id = auth.user.id\n\n    useEffect(() => {\n        const fetchPurchases = async () => {\n            const { data } = await supabase.from('leads').select('*').eq('status', 'sold_exclusive');\n            if (data) setPurchases(data);\n        };\n        fetchPurchases();\n    }, []);\n\n    return (\n        <div className=\"min-h-screen pt-24 pb-10 px-4 md:px-8 max-w-[1600px] mx-auto\">\n            <h1 className=\"text-3xl font-bold mb-8\">My Purchases</h1>\n\n            <div className=\"grid grid-cols-1 gap-6\">\n                {purchases.map((item) => (\n                    <div key={item.id} className=\"glass p-6 rounded-xl flex flex-col md:flex-row items-center gap-6 border border-green-500/20\">\n                        <div className=\"w-full md:w-48 h-32 rounded-lg bg-black/50 overflow-hidden relative\">\n                            <img\n                                src={item.image_url || \"/fallback-car.png\"}\n                                className=\"w-full h-full object-cover\"\n                                onError={(e) => e.currentTarget.src = \"/fallback-car.png\"}\n                                alt={item.title}\n                            />\n                            <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center\">\n                                <Shield className=\"w-8 h-8 text-green-500\" />\n                            </div>\n                        </div>\n\n                        <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-2\">\n                                <h3 className=\"text-xl font-bold\">{item.title}</h3>\n                                <span className=\"bg-green-500/20 text-green-500 px-2 py-0.5 rounded text-xs font-bold uppercase\">Secured</span>\n                            </div>\n                            <p className=\"text-muted-foreground\">{item.brand} â€¢ Sold for {formatCurrency(item.price_exclusive)}</p>\n                        </div>\n\n                        <div>\n                            <button className=\"bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\">\n                                Download Invoice\n                            </button>\n                        </div>\n                    </div>\n                ))}\n\n                {purchases.length === 0 && (\n                    <div className=\"text-center py-20 text-muted-foreground\">\n                        You haven't made any exclusive purchases yet.\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EAcpD,MARA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAKN,CAJuB,UACnB,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK,EAAE,CAAC,SAAU,kBACnE,GAAM,EAAa,EAC3B,IAEJ,EAAG,EAAE,EAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,iBAExC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACV,EAAU,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,yGACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gFACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,EAAK,SAAS,EAAI,oBACvB,UAAU,6BACV,QAAS,AAAC,GAAM,EAAE,aAAa,CAAC,GAAG,CAAG,oBACtC,IAAK,EAAK,KAAK,GAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,gCAI1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6BAAqB,EAAK,KAAK,GAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0FAAiF,eAErG,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,EAAK,KAAK,CAAC,eAAa,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAK,eAAe,QAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,8GAAqG,yBAtBrH,EAAK,EAAE,GA6BC,IAArB,EAAU,MAAM,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDAA0C,uDAO7E"}