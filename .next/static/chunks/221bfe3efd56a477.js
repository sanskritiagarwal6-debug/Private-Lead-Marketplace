(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,20783,e=>{"use strict";let t,r,s;var n=e.i(43476),a=e.i(71645);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,s=e.map(e=>{let s=i(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():i(e[t],null)}}}}function o(...e){return a.useCallback(l(...e),e)}e.s(["composeRefs",()=>l,"useComposedRefs",()=>o],20783);var d=Symbol.for("react.lazy"),c=a[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===d&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var f=((s=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(u(r)&&"function"==typeof c&&(r=c(r._payload)),a.isValidElement(r)){var n;let e,i,o=(n=r,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(d.ref=t?l(t,o):o),a.cloneElement(r,d)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName="Slot.SlotClone",t=s,(r=a.forwardRef((e,r)=>{let{children:s,...i}=e;u(s)&&"function"==typeof c&&(s=c(s._payload));let l=a.Children.toArray(s),o=l.find(m);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,n.jsx)(t,{...i,ref:r,children:s})})).displayName="Slot.Slot",r),p=Symbol("radix.slottable");function m(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var h=e.i(7670),x=e.i(19056);let g=a.forwardRef(({className:e,variant:t="default",size:r="default",asChild:s=!1,...a},i)=>(0,n.jsx)(s?f:"button",{className:function(...e){return(0,x.twMerge)((0,h.clsx)(e))}("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"gold"===t,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"default"===t,"bg-transparent border border-white/10 hover:bg-white/10 hover:text-white":"outline"===t,"hover:bg-accent hover:text-accent-foreground":"ghost"===t,"bg-red-500 text-white hover:bg-red-600":"destructive"===t,"h-10 px-4 py-2":"default"===r,"h-9 rounded-md px-3":"sm"===r,"h-11 rounded-md px-8":"lg"===r,"h-10 w-10":"icon"===r},e),ref:i,...a}));g.displayName="Button",e.s(["Button",()=>g],67881)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},98962,e=>{"use strict";let t=(0,e.i(75254).default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["UserX",()=>t],98962)},31892,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(53210),n=e.i(67881),a=e.i(43531),i=e.i(37727),l=e.i(3116);let o=(0,e.i(75254).default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var d=e.i(98962);function c(){let[e,c]=(0,r.useState)([]),[u,f]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{f(!0);let{data:e,error:t}=await s.supabase.from("access_requests").select("*").order("created_at",{ascending:!1});e&&c(e),f(!1)},m=async e=>{let{error:t}=await s.supabase.from("authorized_users").insert([{email:e.email}]);if(t)return void alert(`Error authorizing user: ${t.message}`);let{error:r}=await s.supabase.from("access_requests").update({status:"approved"}).eq("id",e.id);r||(alert(`Approved access for ${e.email}`),p())},h=async e=>{let{error:t}=await s.supabase.from("access_requests").update({status:"rejected"}).eq("id",e);t||p()};return(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Access Requests"}),(0,t.jsx)("div",{className:"glass rounded-xl border border-white/10 overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Email"}),(0,t.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Status"}),(0,t.jsx)("th",{className:"p-4 font-medium text-muted-foreground",children:"Date"}),(0,t.jsx)("th",{className:"p-4 font-medium text-muted-foreground text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:u?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"Loading requests..."})}):0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"No pending requests."})}):e.map(e=>(0,t.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4 font-medium",children:e.email}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                                            ${"pending"===e.status?"bg-yellow-500/10 text-yellow-500":"approved"===e.status?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:["pending"===e.status&&(0,t.jsx)(l.Clock,{className:"w-3 h-3"}),"approved"===e.status&&(0,t.jsx)(o,{className:"w-3 h-3"}),"rejected"===e.status&&(0,t.jsx)(d.UserX,{className:"w-3 h-3"}),e.status]})}),(0,t.jsx)("td",{className:"p-4 text-muted-foreground text-sm",children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)("td",{className:"p-4 text-right",children:"pending"===e.status&&(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(n.Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-500 hover:text-red-400 hover:bg-red-500/10",onClick:()=>h(e.id),children:(0,t.jsx)(i.X,{className:"w-4 h-4"})}),(0,t.jsx)(n.Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-green-500 hover:text-green-400 hover:bg-green-500/10",onClick:()=>m(e),children:(0,t.jsx)(a.Check,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})}e.s(["default",()=>c],31892)}]);