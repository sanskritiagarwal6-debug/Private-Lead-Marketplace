(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,20783,e=>{"use strict";let t,r,a;var i=e.i(43476),s=e.i(71645);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,a=e.map(e=>{let a=l(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():l(e[t],null)}}}}function o(...e){return s.useCallback(n(...e),e)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>o],20783);var c=Symbol.for("react.lazy"),d=s[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var m=((a=s.forwardRef((e,t)=>{let{children:r,...a}=e;if(u(r)&&"function"==typeof d&&(r=d(r._payload)),s.isValidElement(r)){var i;let e,l,o=(i=r,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,t){let r={...t};for(let a in t){let i=e[a],s=t[a];/^on[A-Z]/.test(a)?i&&s?r[a]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(r[a]=i):"style"===a?r[a]={...i,...s}:"className"===a&&(r[a]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==s.Fragment&&(c.ref=t?n(t,o):o),s.cloneElement(r,c)}return s.Children.count(r)>1?s.Children.only(null):null})).displayName="Slot.SlotClone",t=a,(r=s.forwardRef((e,r)=>{let{children:a,...l}=e;u(a)&&"function"==typeof d&&(a=d(a._payload));let n=s.Children.toArray(a),o=n.find(f);if(o){let e=o.props.children,a=n.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,i.jsx)(t,{...l,ref:r,children:a})})).displayName="Slot.Slot",r),p=Symbol("radix.slottable");function f(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var h=e.i(7670),x=e.i(19056);let g=s.forwardRef(({className:e,variant:t="default",size:r="default",asChild:a=!1,...s},l)=>(0,i.jsx)(a?m:"button",{className:function(...e){return(0,x.twMerge)((0,h.clsx)(e))}("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"gold"===t,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"default"===t,"bg-transparent border border-white/10 hover:bg-white/10 hover:text-white":"outline"===t,"hover:bg-accent hover:text-accent-foreground":"ghost"===t,"bg-red-500 text-white hover:bg-red-600":"destructive"===t,"h-10 px-4 py-2":"default"===r,"h-9 rounded-md px-3":"sm"===r,"h-11 rounded-md px-8":"lg"===r,"h-10 w-10":"icon"===r},e),ref:l,...s}));g.displayName="Button",e.s(["Button",()=>g],67881)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(7670),i=e.i(19056);let s=r.forwardRef(({className:e,type:r,...s},l)=>(0,t.jsx)("input",{type:r,className:function(...e){return(0,i.twMerge)((0,a.clsx)(e))}("flex h-10 w-full rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-white",e),ref:l,...s}));s.displayName="Input",e.s(["Input",()=>s])},12426,e=>{"use strict";let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},5125,e=>{"use strict";let t=(0,e.i(75254).default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>t],5125)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},71689,94827,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],71689);let a=(0,t.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);e.s(["Gauge",()=>a],94827)},27548,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),i=e.i(53210),s=e.i(67881),l=e.i(23750),n=e.i(47163);let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-black disabled:cursor-not-allowed disabled:opacity-50 resize-none",e),ref:a,...r}));o.displayName="Textarea";var c=e.i(71689),d=e.i(5125),u=e.i(12426),m=e.i(94827),p=e.i(75254);let f=(0,p.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),h=(0,p.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var x=e.i(31278),g=e.i(69638),b=e.i(22016),y=e.i(46932);function v(){let e=(0,a.useRouter)(),[n,p]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)({title:"",price:"",mileage:"",description:"",imageUrl:"",brand:""}),k=e=>{N(t=>({...t,[e.target.name]:e.target.value}))},C=async t=>{t.preventDefault(),p(!0);try{localStorage.getItem("user_email");let{error:t}=await i.supabase.from("leads").insert([{title:j.title,brand:j.brand||S(j.title),price_standard:.2*parseFloat(j.price),price_exclusive:parseFloat(j.price),mileage:parseInt(j.mileage),registration_date:new Date().toISOString().split("T")[0],moderation_status:"pending",image_url:j.imageUrl||"/placeholder-car.jpg"}]);t?(console.error("Error submitting lead:",t),alert("Error submitting listing. Please try again.")):(w(!0),setTimeout(()=>{e.push("/dashboard")},2e3))}catch(e){console.error("Error:",e),alert("An unexpected error occurred.")}finally{p(!1)}},S=e=>{for(let t of["Aston Martin","Audi","Bentley","BMW","Ferrari","Lamborghini","McLaren","Mercedes","Porsche","Range Rover","Land Rover","Rolls-Royce"])if(e.toLowerCase().includes(t.toLowerCase()))return t;return"Other"};return v?(0,t.jsx)("div",{className:"min-h-screen pt-24 pb-10 px-4 md:px-8 max-w-2xl mx-auto flex items-center justify-center",children:(0,t.jsxs)(y.motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"glass rounded-2xl p-8 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(g.CheckCircle,{className:"w-8 h-8 text-green-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Listing Submitted!"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Your listing has been submitted for review. You'll be notified once it's approved."})]})}):(0,t.jsxs)("div",{className:"min-h-screen pt-24 pb-10 px-4 md:px-8 max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(b.default,{href:"/dashboard",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-white transition-colors mb-4",children:[(0,t.jsx)(c.ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Post a Lead"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Submit your vehicle listing for review. Once approved, it will appear in the marketplace."})]}),(0,t.jsxs)(y.motion.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:C,className:"glass rounded-2xl p-6 md:p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(d.Car,{className:"w-4 h-4 text-primary"}),"Car Name *"]}),(0,t.jsx)(l.Input,{name:"title",value:j.title,onChange:k,placeholder:"e.g., 2023 Porsche 911 GT3 RS",required:!0,className:"bg-white/5 border-white/10"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(f,{className:"w-4 h-4 text-primary"}),"Brand"]}),(0,t.jsx)(l.Input,{name:"brand",value:j.brand,onChange:k,placeholder:"e.g., Porsche (auto-detected if left blank)",className:"bg-white/5 border-white/10"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(u.DollarSign,{className:"w-4 h-4 text-green-500"}),"Price (Exclusive) *"]}),(0,t.jsx)(l.Input,{name:"price",type:"number",value:j.price,onChange:k,placeholder:"e.g., 35000",required:!0,min:"0",className:"bg-white/5 border-white/10"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Standard price will be set to 20% of exclusive price."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(m.Gauge,{className:"w-4 h-4 text-blue-500"}),"Mileage *"]}),(0,t.jsx)(l.Input,{name:"mileage",type:"number",value:j.mileage,onChange:k,placeholder:"e.g., 5000",required:!0,min:"0",className:"bg-white/5 border-white/10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(f,{className:"w-4 h-4 text-purple-500"}),"Description"]}),(0,t.jsx)(o,{name:"description",value:j.description,onChange:k,placeholder:"Describe the vehicle condition, features, and any relevant details...",rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(h,{className:"w-4 h-4 text-orange-500"}),"Image URL"]}),(0,t.jsx)(l.Input,{name:"imageUrl",value:j.imageUrl,onChange:k,placeholder:"https://example.com/car-image.jpg",className:"bg-white/5 border-white/10"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave blank to use a placeholder image."})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(s.Button,{type:"submit",disabled:n,className:"w-full bg-primary hover:bg-primary/90 text-black font-bold py-3 text-base",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit for Review"})}),(0,t.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"By submitting, you agree to our terms of service. All listings are subject to review before being published."})]})]})}e.s(["default",()=>v],27548)}]);