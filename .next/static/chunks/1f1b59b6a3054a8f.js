(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let s=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],3116)},12426,e=>{"use strict";let s=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],12426)},90092,e=>{"use strict";let s=(0,e.i(75254).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcw",()=>s],90092)},23261,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(53210),a=e.i(47163),r=e.i(90092),i=e.i(63488),d=e.i(61911),n=e.i(12426),c=e.i(3116);let o=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var x=e.i(46932);function m(){let[e,m]=(0,t.useState)({totalRevenue:0,exclusiveSales:0,pendingApprovals:0,totalInventory:0,totalUsers:0,activeOffers:2}),[h,p]=(0,t.useState)([]),[u,g]=(0,t.useState)([]),[y,b]=(0,t.useState)(!0),v=async()=>{b(!0);let{data:e}=await l.supabase.from("leads").select("*").order("created_at",{ascending:!1}),{count:s}=await l.supabase.from("authorized_users").select("*",{count:"exact",head:!0});if(e){p(e);let t=e.filter(e=>"sold_exclusive"===e.status),l=e.filter(e=>"pending"===e.moderation_status),a=t.reduce((e,s)=>e+s.price_exclusive,0);m(r=>({...r,totalInventory:e.length,exclusiveSales:t.length,totalRevenue:a,pendingApprovals:l.length,totalUsers:s||0}));let r=new Date;r.setDate(r.getDate()-1),g(e.filter(e=>new Date(e.created_at)>r&&"available"===e.status))}b(!1)};(0,t.useEffect)(()=>{v()},[]);let f=[{label:"Total Revenue",value:(0,a.formatCurrency)(e.totalRevenue),icon:n.DollarSign,color:"text-green-500",bg:"bg-green-500/10"},{label:"Total Users",value:e.totalUsers.toString(),icon:d.Users,color:"text-blue-500",bg:"bg-blue-500/10"},{label:"Pending Approvals",value:e.pendingApprovals.toString(),icon:c.Clock,color:"text-yellow-500",bg:"bg-yellow-500/10",link:"/admin/listings"},{label:"Total Inventory",value:e.totalInventory.toString(),icon:o,color:"text-primary",bg:"bg-primary/10"}];return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard Overview"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor your marketplace performance"})]}),(0,s.jsx)("button",{onClick:v,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",disabled:y,children:(0,s.jsx)(r.RefreshCcw,{className:`w-5 h-5 ${y?"animate-spin":""}`})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((e,t)=>{let l=e.icon;return(0,s.jsx)(x.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"glass p-6 rounded-xl border border-white/10 hover:border-white/20 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-xl ${e.bg} flex items-center justify-center ${e.color}`,children:(0,s.jsx)(l,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:e.label}),(0,s.jsx)("div",{className:`text-2xl font-bold mt-1 ${e.color}`,children:y?(0,s.jsx)("div",{className:"h-8 w-16 bg-white/10 rounded animate-pulse"}):e.value})]})]})},e.label)})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 glass rounded-xl border border-white/10 overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:(0,s.jsx)("h3",{className:"font-semibold text-lg",children:"Recent Inventory"})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-white/5 uppercase text-xs text-muted-foreground font-medium",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Title"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Moderation"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Price"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-white/5",children:y?Array.from({length:5}).map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-32 bg-white/5 rounded animate-pulse"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-16 bg-white/5 rounded animate-pulse"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-16 bg-white/5 rounded animate-pulse"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-20 bg-white/5 rounded animate-pulse"})})]},t)):h.slice(0,5).map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 font-medium",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"available"===e.status?"bg-green-500/10 text-green-500":"bg-primary/10 text-primary"}`,children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"approved"===e.moderation_status?"bg-green-500/10 text-green-500":"pending"===e.moderation_status?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"}`,children:e.moderation_status||"approved"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,a.formatCurrency)(e.price_exclusive)})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"glass rounded-xl border border-white/10 p-6 flex flex-col h-fit",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center text-primary",children:(0,s.jsx)(i.Mail,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Daily Newsletter"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Preview of today's digest"})]})]}),(0,s.jsx)("div",{className:"flex-1 space-y-4 mb-6",children:u.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm",children:"Today's New Arrivals:"}),(0,s.jsx)("ul",{className:"space-y-2",children:u.map(e=>(0,s.jsxs)("li",{className:"text-sm font-medium border-l-2 border-primary pl-3 py-1 bg-white/5 rounded-r",children:[e.title," ",(0,s.jsxs)("span",{className:"text-muted-foreground",children:["- ",(0,a.formatCurrency)(e.price_exclusive)]})]},e.id))})]}):(0,s.jsx)("div",{className:"h-32 flex items-center justify-center text-muted-foreground bg-white/5 rounded border border-dashed border-white/10",children:"No new leads in last 24h"})}),(0,s.jsx)("button",{className:"w-full py-2 bg-primary text-black font-bold rounded-lg hover:bg-primary/90 transition-colors",children:"Trigger Manually"})]})]})]})}e.s(["default",()=>m],23261)}]);