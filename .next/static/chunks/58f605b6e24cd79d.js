(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,20783,e=>{"use strict";let t,r,s;var i=e.i(43476),n=e.i(71645);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,s=e.map(e=>{let s=a(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():a(e[t],null)}}}}function o(...e){return n.useCallback(l(...e),e)}e.s(["composeRefs",()=>l,"useComposedRefs",()=>o],20783);var c=Symbol.for("react.lazy"),d=n[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var f=((s=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(u(r)&&"function"==typeof d&&(r=d(r._payload)),n.isValidElement(r)){var i;let e,a,o=(i=r,(a=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(a=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,t){let r={...t};for(let s in t){let i=e[s],n=t[s];/^on[A-Z]/.test(s)?i&&n?r[s]=(...e)=>{let t=n(...e);return i(...e),t}:i&&(r[s]=i):"style"===s?r[s]={...i,...n}:"className"===s&&(r[s]=[i,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(c.ref=t?l(t,o):o),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null})).displayName="Slot.SlotClone",t=s,(r=n.forwardRef((e,r)=>{let{children:s,...a}=e;u(s)&&"function"==typeof d&&(s=d(s._payload));let l=n.Children.toArray(s),o=l.find(m);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,i.jsx)(t,{...a,ref:r,children:s})})).displayName="Slot.Slot",r),p=Symbol("radix.slottable");function m(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var h=e.i(7670),x=e.i(19056);let y=n.forwardRef(({className:e,variant:t="default",size:r="default",asChild:s=!1,...n},a)=>(0,i.jsx)(s?f:"button",{className:function(...e){return(0,x.twMerge)((0,h.clsx)(e))}("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"gold"===t,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"default"===t,"bg-transparent border border-white/10 hover:bg-white/10 hover:text-white":"outline"===t,"hover:bg-accent hover:text-accent-foreground":"ghost"===t,"bg-red-500 text-white hover:bg-red-600":"destructive"===t,"h-10 px-4 py-2":"default"===r,"h-9 rounded-md px-3":"sm"===r,"h-11 rounded-md px-8":"lg"===r,"h-10 w-10":"icon"===r},e),ref:a,...n}));y.displayName="Button",e.s(["Button",()=>y],67881)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(7670),i=e.i(19056);let n=r.forwardRef(({className:e,type:r,...n},a)=>(0,t.jsx)("input",{type:r,className:function(...e){return(0,i.twMerge)((0,s.clsx)(e))}("flex h-10 w-full rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-white",e),ref:a,...n}));n.displayName="Input",e.s(["Input",()=>n])},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),s=e.i(31178),i=e.i(47414),n=e.i(74008),a=e.i(21476),l=e.i(72846),o=r,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f({children:e,isPresent:s,anchorX:i,root:n}){let a=(0,o.useId)(),l=(0,o.useRef)(null),f=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,o.useContext)(c.MotionConfigContext),m=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=d(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(l,e.props?.ref??e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:c}=f.current;if(s||!l.current||!e||!t)return;let d="left"===i?`left: ${o}`:`right: ${c}`;l.current.dataset.motionPopId=a;let u=document.createElement("style");p&&(u.nonce=p);let m=n??document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${r}px !important;
          }
        `),()=>{m.contains(u)&&m.removeChild(u)}},[s]),(0,t.jsx)(u,{isPresent:s,childRef:l,sizeRef:f,children:o.cloneElement(e,{ref:m})})}let p=({children:e,initial:s,isPresent:n,onExitComplete:l,custom:o,presenceAffectsLayout:c,mode:d,anchorX:u,root:p})=>{let h=(0,i.useConstant)(m),x=(0,r.useId)(),y=!0,g=(0,r.useMemo)(()=>(y=!1,{id:x,initial:s,isPresent:n,custom:o,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[n,h,l]);return c&&y&&(g={...g}),(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),r.useEffect(()=>{n||h.size||!l||l()},[n]),"popLayout"===d&&(e=(0,t.jsx)(f,{isPresent:n,anchorX:u,root:p,children:e})),(0,t.jsx)(a.PresenceContext.Provider,{value:g,children:e})};function m(){return new Map}var h=e.i(64978);let x=e=>e.key||"";function y(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:a,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:f="left",root:m})=>{let[g,b]=(0,h.usePresence)(u),v=(0,r.useMemo)(()=>y(e),[e]),j=u&&!g?[]:v.map(x),w=(0,r.useRef)(!0),N=(0,r.useRef)(v),C=(0,i.useConstant)(()=>new Map),k=(0,r.useRef)(new Set),[P,R]=(0,r.useState)(v),[S,E]=(0,r.useState)(v);(0,n.useIsomorphicLayoutEffect)(()=>{w.current=!1,N.current=v;for(let e=0;e<S.length;e++){let t=x(S[e]);j.includes(t)?(C.delete(t),k.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[S,j.length,j.join("-")]);let M=[];if(v!==P){let e=[...v];for(let t=0;t<S.length;t++){let r=S[t],s=x(r);j.includes(s)||(e.splice(t,0,r),M.push(r))}return"wait"===d&&M.length&&(e=M),E(y(e)),R(v),null}let{forceRender:I}=(0,r.useContext)(s.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:S.map(e=>{let r=x(e),s=(!u||!!g)&&(v===S||j.includes(r));return(0,t.jsx)(p,{isPresent:s,initial:(!w.current||!!l)&&void 0,custom:a,presenceAffectsLayout:c,mode:d,root:m,onExitComplete:s?void 0:()=>{if(k.current.has(r)||(k.current.add(r),!C.has(r)))return;C.set(r,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(I?.(),E(N.current),u&&b?.(),o&&o())},anchorX:f,children:e},r)})})};e.s(["AnimatePresence",()=>g],88653)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},7486,e=>{"use strict";let t=(0,e.i(75254).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>t],7486)},79610,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),i=e.i(53210),n=e.i(67881),a=e.i(23750),l=e.i(98919),o=e.i(70756);let c=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var d=e.i(7486),u=e.i(47163),f=e.i(46932),p=e.i(88653);function m(){let e=(0,s.useParams)(),m=(0,s.useSearchParams)(),h=(0,s.useRouter)(),x=m.get("type"),[y,g]=(0,r.useState)(null),[b,v]=(0,r.useState)(!0),[j,w]=(0,r.useState)(!1),[N,C]=(0,r.useState)("card"),[k,P]=(0,r.useState)({name:"",number:"",expiry:"",cvv:""});(0,r.useEffect)(()=>{(async()=>{let{data:t}=await i.supabase.from("leads").select("*").eq("id",e.id).single();t&&g(t),v(!1)})()},[e.id]);let R=async()=>{if("card"===N&&!(k.name&&k.number&&k.expiry&&k.cvv))return void alert("Please complete all card details to proceed.");if(w(!0),await new Promise(e=>setTimeout(e,2e3)),"exclusive"===x){let{error:t}=await i.supabase.from("leads").update({status:"sold_exclusive"}).eq("id",e.id);if(t){alert("Purchase failed. Please try again."),w(!1);return}}alert("Purchase Successful! Redirecting to your purchases..."),h.push("/dashboard")};if(b)return(0,t.jsx)("div",{className:"p-8 text-center",children:"Loading checkout..."});if(!y)return(0,t.jsx)("div",{className:"p-8 text-center",children:"Invalid Checkout Session."});let S="exclusive"===x?y.price_exclusive:y.price_standard;return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 pt-24",children:(0,t.jsxs)("div",{className:"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"glass p-8 rounded-2xl border border-white/10 h-fit",children:[(0,t.jsx)("div",{className:"aspect-video w-full bg-neutral-900 rounded-lg overflow-hidden mb-6",children:(0,t.jsx)("img",{src:y.image_url||"/fallback-car.png",className:"w-full h-full object-cover",onError:e=>e.currentTarget.src="/fallback-car.png",alt:"Lead Thumbnail"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:y.title}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-6",children:[y.brand," â€¢ ",y.mileage," km"]}),(0,t.jsxs)("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{children:["Item Price (",x,")"]}),(0,t.jsx)("span",{className:"font-mono",children:(0,u.formatCurrency)(S)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Processing Fee"}),(0,t.jsx)("span",{className:"font-mono",children:(0,u.formatCurrency)(0)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold text-white pt-2 border-t border-white/5",children:[(0,t.jsx)("span",{children:"Total Due"}),(0,t.jsx)("span",{children:(0,u.formatCurrency)(S)})]})]})]}),(0,t.jsxs)("div",{className:"glass p-8 rounded-2xl border border-white/10 flex flex-col justify-center",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Checkout"}),(0,t.jsxs)("p",{className:"text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(o.Lock,{className:"w-4 h-4"})," Secure SSL Connection"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:["exclusive"===x&&(0,t.jsxs)("div",{className:"bg-primary/10 border border-primary/20 p-4 rounded-lg flex gap-3",children:[(0,t.jsx)(l.Shield,{className:"w-6 h-6 text-primary shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-primary text-sm",children:"Exclusive Rights"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Upon confirmation, this lead will be permanently removed from the public marketplace."})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Payment Method"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{onClick:()=>C("card"),className:`border p-3 rounded flex items-center justify-center gap-2 cursor-pointer transition-all ${"card"===N?"border-primary bg-primary/10 text-primary":"border-white/10 hover:bg-white/5 text-muted-foreground"}`,children:[(0,t.jsx)(c,{className:"w-4 h-4"})," Credit Card"]}),(0,t.jsxs)("div",{onClick:()=>C("bank"),className:`border p-3 rounded flex items-center justify-center gap-2 cursor-pointer transition-all ${"bank"===N?"border-primary bg-primary/10 text-primary":"border-white/10 hover:bg-white/5 text-muted-foreground"}`,children:[(0,t.jsx)(d.Building2,{className:"w-4 h-4"})," Bank Wire"]})]})]}),(0,t.jsx)("div",{className:"min-h-[280px]",children:(0,t.jsx)(p.AnimatePresence,{mode:"wait",children:"card"===N?(0,t.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs uppercase text-muted-foreground",children:"Cardholder Name"}),(0,t.jsx)(a.Input,{placeholder:"John Doe",className:"focus-visible:ring-primary/50 focus-visible:border-primary",value:k.name,onChange:e=>P({...k,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs uppercase text-muted-foreground",children:"Card Number"}),(0,t.jsx)(a.Input,{placeholder:"0000 0000 0000 0000",className:"focus-visible:ring-primary/50 focus-visible:border-primary",value:k.number,onChange:e=>P({...k,number:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs uppercase text-muted-foreground",children:"Expiry Date"}),(0,t.jsx)(a.Input,{placeholder:"MM/YY",className:"focus-visible:ring-primary/50 focus-visible:border-primary",value:k.expiry,onChange:e=>P({...k,expiry:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs uppercase text-muted-foreground",children:"CVV"}),(0,t.jsx)(a.Input,{placeholder:"123",type:"password",className:"focus-visible:ring-primary/50 focus-visible:border-primary",value:k.cvv,onChange:e=>P({...k,cvv:e.target.value})})]})]})]},"card"):(0,t.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"p-6 rounded-xl bg-white/5 border border-white/10 text-center space-y-4",children:[(0,t.jsx)(d.Building2,{className:"w-12 h-12 text-muted-foreground mx-auto opacity-50"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-white",children:"Bank Transfer Details"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Please transfer the total amount to the following account. Your purchase will be confirmed once funds are received."})]}),(0,t.jsxs)("div",{className:"text-sm bg-black/40 p-4 rounded font-mono text-left space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Bank:"})," ",(0,t.jsx)("span",{children:"HDFC Bank"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Account:"})," ",(0,t.jsx)("span",{children:"0000 1234 5678"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"IFSC:"})," ",(0,t.jsx)("span",{children:"HDFC0001234"})]})]})]},"bank")})}),(0,t.jsx)(n.Button,{size:"lg",className:"w-full h-14 text-lg",variant:"exclusive"===x?"gold":"default",onClick:R,disabled:j,children:j?"Processing...":`Confirm Payment of ${(0,u.formatCurrency)(S)}`}),(0,t.jsx)("button",{onClick:()=>h.back(),className:"w-full text-center text-sm text-muted-foreground hover:text-white transition-colors",children:"Cancel"})]})]})]})})}e.s(["default",()=>m],79610)}]);