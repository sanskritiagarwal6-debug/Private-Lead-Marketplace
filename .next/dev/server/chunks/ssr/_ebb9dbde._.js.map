{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanskritiagarwal/Private-Lead-Marketplace/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.warn(\"Missing Supabase environment variables. Please check .env.local\")\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanskritiagarwal/Private-Lead-Marketplace/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n}\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n    asChild?: boolean\n    variant?: \"default\" | \"outline\" | \"ghost\" | \"gold\"\n    size?: \"default\" | \"sm\" | \"lg\" | \"icon\"\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant = \"default\", size = \"default\", asChild = false, ...props }, ref) => {\n        const Comp = asChild ? Slot : \"button\"\n        return (\n            <Comp\n                className={cn(\n                    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n                    {\n                        \"bg-primary text-primary-foreground hover:bg-primary/90\": variant === \"gold\",\n                        \"bg-secondary text-secondary-foreground hover:bg-secondary/80\": variant === \"default\",\n                        \"bg-transparent border border-white/10 hover:bg-white/10 hover:text-white\": variant === \"outline\",\n                        \"hover:bg-accent hover:text-accent-foreground\": variant === \"ghost\",\n                        \"h-10 px-4 py-2\": size === \"default\",\n                        \"h-9 rounded-md px-3\": size === \"sm\",\n                        \"h-11 rounded-md px-8\": size === \"lg\",\n                        \"h-10 w-10\": size === \"icon\",\n                    },\n                    className\n                )}\n                ref={ref}\n                {...props}\n            />\n        )\n    }\n)\nButton.displayName = \"Button\"\n\nexport { Button }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB;AASA,MAAM,uBAAS,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAC9E,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACI,8OAAC;QACG,WAAW,GACP,0RACA;YACI,0DAA0D,YAAY;YACtE,gEAAgE,YAAY;YAC5E,4EAA4E,YAAY;YACxF,gDAAgD,YAAY;YAC5D,kBAAkB,SAAS;YAC3B,uBAAuB,SAAS;YAChC,wBAAwB,SAAS;YACjC,aAAa,SAAS;QAC1B,GACA;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanskritiagarwal/Private-Lead-Marketplace/app/checkout/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams, useSearchParams, useRouter } from \"next/navigation\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Shield, CheckCircle, ArrowRight, Lock } from \"lucide-react\";\nimport { formatCurrency } from \"@/lib/utils\";\n\nexport default function CheckoutPage() {\n    const params = useParams();\n    const searchParams = useSearchParams();\n    const router = useRouter();\n\n    const type = searchParams.get('type') as 'standard' | 'exclusive';\n    const [lead, setLead] = useState<any>(null);\n    const [loading, setLoading] = useState(true);\n    const [processing, setProcessing] = useState(false);\n\n    useEffect(() => {\n        const fetchLead = async () => {\n            const { data } = await supabase.from('leads').select('*').eq('id', params.id).single();\n            if (data) setLead(data);\n            setLoading(false);\n        };\n        fetchLead();\n    }, [params.id]);\n\n    const handleConfirmPurchase = async () => {\n        setProcessing(true);\n\n        // Simulate payment processing time\n        await new Promise(resolve => setTimeout(resolve, 2000));\n\n        if (type === 'exclusive') {\n            // Logic to hide from market\n            const { error } = await supabase\n                .from('leads')\n                .update({ status: 'sold_exclusive' })\n                .eq('id', params.id);\n\n            if (error) {\n                alert(\"Purchase failed. Please try again.\");\n                setProcessing(false);\n                return;\n            }\n        }\n\n        // Success\n        alert(\"Purchase Successful! Redirecting to your purchases...\");\n        router.push('/purchases');\n        // In real app, create /purchases page query. For now redirecting to dashboard or dummy.\n        // router.push('/dashboard'); \n    };\n\n    if (loading) return <div className=\"p-8 text-center\">Loading checkout...</div>;\n    if (!lead) return <div className=\"p-8 text-center\">Invalid Checkout Session.</div>;\n\n    const price = type === 'exclusive' ? lead.price_exclusive : lead.price_standard;\n\n    return (\n        <div className=\"min-h-screen flex items-center justify-center p-6\">\n            <div className=\"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-8\">\n\n                {/* Left: Product Summary */}\n                <div className=\"glass p-8 rounded-2xl border border-white/10\">\n                    <div className=\"aspect-video w-full bg-neutral-900 rounded-lg overflow-hidden mb-6\">\n                        <img\n                            src={lead.image_url || \"/fallback-car.png\"}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => e.currentTarget.src = \"/fallback-car.png\"}\n                            alt=\"Lead Thumbnail\"\n                        />\n                    </div>\n                    <h2 className=\"text-2xl font-bold mb-2\">{lead.title}</h2>\n                    <p className=\"text-muted-foreground mb-6\">{lead.brand} â€¢ {lead.mileage} km</p>\n\n                    <div className=\"space-y-4 border-t border-white/10 pt-4\">\n                        <div className=\"flex justify-between\">\n                            <span>Item Price ({type})</span>\n                            <span className=\"font-mono\">{formatCurrency(price)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                            <span>Processing Fee</span>\n                            <span className=\"font-mono\">{formatCurrency(0)}</span>\n                        </div>\n                        <div className=\"flex justify-between text-lg font-bold text-white pt-2 border-t border-white/5\">\n                            <span>Total Due</span>\n                            <span>{formatCurrency(price)}</span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right: Payment & Confirm */}\n                <div className=\"glass p-8 rounded-2xl border border-white/10 flex flex-col justify-center\">\n                    <div className=\"mb-8\">\n                        <h1 className=\"text-3xl font-bold mb-2\">Checkout</h1>\n                        <p className=\"text-muted-foreground flex items-center gap-2\">\n                            <Lock className=\"w-4 h-4\" /> Secure SSL Connection\n                        </p>\n                    </div>\n\n                    <div className=\"space-y-6\">\n                        {type === 'exclusive' && (\n                            <div className=\"bg-primary/10 border border-primary/20 p-4 rounded-lg flex gap-3\">\n                                <Shield className=\"w-6 h-6 text-primary shrink-0\" />\n                                <div>\n                                    <h4 className=\"font-semibold text-primary text-sm\">Exclusive Rights</h4>\n                                    <p className=\"text-xs text-muted-foreground\">Upon confirmation, this lead will be permanently removed from the public marketplace.</p>\n                                </div>\n                            </div>\n                        )}\n\n                        <div className=\"space-y-3\">\n                            <label className=\"text-sm font-medium\">Payment Method</label>\n                            <div className=\"grid grid-cols-2 gap-3\">\n                                <div className=\"border border-white/20 p-3 rounded flex items-center justify-center cursor-pointer hover:bg-white/5 bg-white/5\">Credit Card</div>\n                                <div className=\"border border-white/10 p-3 rounded flex items-center justify-center cursor-pointer hover:bg-white/5 text-muted-foreground\">Bank Wire</div>\n                            </div>\n                        </div>\n\n                        <Button\n                            size=\"lg\"\n                            className=\"w-full h-14 text-lg\"\n                            variant={type === 'exclusive' ? 'gold' : 'default'}\n                            onClick={handleConfirmPurchase}\n                            disabled={processing}\n                        >\n                            {processing ? \"Processing...\" : `Confirm Payment of ${formatCurrency(price)}`}\n                        </Button>\n\n                        <button onClick={() => router.back()} className=\"w-full text-center text-sm text-muted-foreground hover:text-white transition-colors\">\n                            Cancel\n                        </button>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}